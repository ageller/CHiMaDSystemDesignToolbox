<html>
	<head>  
		<meta charset='UTF-8' name='viewport' content='width=device-width, user-scalable=no'> 
		<title>CHiMaD</title>
		<link rel='stylesheet' type='text/css' href='static/css/index.css' />

	</head>

	<body>

		<div id='tooltip'></div>

		<div id='branding' style='width:100%;'>
			<div style='padding:0.1vw'>
				<img id='CHiMaDLogo' src='static/images/ChiMaD_Final_wname-transparent.png' style='width:60vw'>
				<div id="hamburger" onclick="toggleDropdown('dropdown')">
					<div></div>
					<div></div>
					<div></div>
				</div>        
				<div id="dropdown" style='visibility:hidden'>
					<a href="home" class='simpleLink simpleLinkHover'><div style='border:none'>Home</div></a>
					<a href="about" class='simpleLink simpleLinkHover'><div>About</div></a>
					<a href="training" class='simpleLink simpleLinkHover'><div>Collaborate</div></a>
					<a href="editPara" class='simpleLink simpleLinkHover'><div>Individual</div></a>
					<a href="editSDC" class='simpleLink simpleLinkHover'><div>Customize</div></a>
					<a href="https://chimad.northwestern.edu/" class='simpleLink simpleLinkHover'><div>CHiMaD Main Page</div></a>
				</div>
				<hr class='simpleLine'>
				<div style='font-size:4vw; font-weight:bold; padding-left:0.5vw'>CHiMaD System Design Toolbox</div>
				<div style='font-size:2.5vw; font-style:italic; padding-left:1vw; line-height:3vw'>Individual: Build Your Own System</div>
				<hr class='simpleLine'>
			</div>
		</div>

		<!-- default is for this on the left -->
		<div id='paragraphForm' style='width:100%; margin-top:30vh'>

			<div id='paraForm' class='para'>

				<div id='paragraphnameSelector' style='margin-bottom:20px'>
					<div id="paragraphnameInstructions" class="instructions">1. Select your paragraph. </div>
				</div>


				<div id="paragraphnameInstructions" class="instructions">2. (Optional) Enter a new name if you want to edit this paragraph.  This must be a unique name, that does not already appear in the dropdown menu above.  Next, you can edit and save a new paragraph with this button.  When editing, use double square brakets to indicate a word or phrase that is meant to be classified, e.g., "[[classify this]]".  Subscripts can be included as "_{subscripted text}_", and superscripts can be included as "^{superscripted text}^".</div>

				<button class='secondaryButton' id='paraEditButton' style='display:block'>edit</button>
				<button class='secondaryButton' id='paraSaveButton' style='display:none'>save</button>

				<label for="paragraphname" id="paragraphnameLabel">new paragraph name:</label>
				<input type="text" id="paragraphnameInput" name="paragraphname" value=''>
				<div id="paragraphnameNotification" class="notifications" style="margin:20"></div>

				<div id='paraText'>
					Polymer matrix composites are traditionally valued for use in [[lightweight mechanical]] applications (aerospace, automotive, etc.) due to their attractive combination of mechanical properties ([[toughness]], [[strength/stiffness]]) and [[low density]]. For use in [[extreme environments]], these materials must possess [[slow degradation rates when exposed to O_{2}_, H_{2}_O, and salts]]. Moreover, maintaining structural integrity over a wide temperature range requires a low [[thermal expansion coefficient mismatch]] between matrix/reinforcement and a high [[glass transition temperature (T_{g}_)]]. Composites must also demonstrate excellent [[resistance to fracture]], determined in part by the mechanical properties (described above) and by the preferred [[failure mode]], which is a function of the [[reinforcement architecture]] and [[fiber/matrix interface]]. The [[polymer matrix]] [[is prepared]] by combining epoxy, crosslinker, and filler (as-needed), which controls the [[crosslinking density]] and [[heterogeneity]] within the matrix structure. [[The choice and preparation of reinforcement]] sets the [[morphology]] and [[microstructure of the reinforcement phase]].  The architecture of the reinforcement (and therefore, composite) is set during [[layup and curing]] and is defined by the [[dispersion]], [[aggregation]], and [[orientation of the reinforcement]]. [[Post-layup annealing and aging]] can improve the [[matrix/reinforcement interface]], and is critical to the mechanical properties, particularly the failure mode and toughness.
				</div>
				<div id='paraTextEditor' style='display:none'>
					<textarea id='paraTextEditorInput' name='editor' style='width:100%'></textarea>
				</div>
			</div>


		</div>


		<div id="systemDesignChart">
			<div class="para">

				<div id="SDCInstructions" class="instructions">3. After you have selected (or created) your paragraph, you can use the dropdown menus within the paragraph to classify each word.  This will create a system design chart below.  Once the system design chart is created, you can define the connections between boxes.  After you have defined these connections, please click the Submit button below to save (or update) this answer key.  </div>


				<div id="systemDesignChartSVGContainer"></div>

				<div id="answerSubmitButton">
					<button class="button" style="margin-left:20px" onclick="onAnswersSubmit()">Submit</button>
					<div id="answerSubmitNotification" class="notifications" style="margin:20px">Please click the Submit button above when you have completed your work.</div>
				</div>

				<div id="toCustomize" class="arrowButton" onclick="toCustomize()">Customize your system design chart</div>

			</div>
		</div>


		<!-- Libraries -->
		<script src='static/lib/d3.v6.min.js'></script>
		<script src="static/lib/jquery-3.5.1.min.js"></script> <!-- for AJAX and slider -->


		<!-- my codes -->
		<script src="static/js/dropdown.js"></script>
		<script src="static/js/params.js"></script>
		<script src="static/js/utils.js"></script>
		<script src="static/js/formHandler.js"></script>
		<script src="static/js/reader.js"></script>
		<script src="static/js/initDropdowns.js"></script>
		<script src="static/js/initSystemDesignChart.js"></script>
		<script src="static/js/resize.js"></script>
		<script src="static/js/editPara.js"></script>
		<script src="static/js/init.js"></script>

		<script>
			if ({{ inDesktopApp|tojson|safe }}){
				console.log('running in desktop app')
				var script = document.createElement("script");  
				script.src = 'static/js/forFlaskWebGUI.js';
				document.body.appendChild(script);  
			}
		</script>
		
	</body>
</html>